<!DOCTYPE HTML>
<!--
Prologue by HTML5 UP
html5up.net | @ajlkn
Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
Jekyll integration by Chris Bobbe | chrisbobbe.github.io
-->
<html><head><!-- Robots -->
  <meta name="robots" content="index, follow" /><link rel="canonical" href="http://localhost:4000/assets/md/bdd/cours4.html" /><!-- Title, description, author --><title>Langage SQL | Informatique - ENSEIRB-Matmeca</title>
  <meta name="description" content="Cours d&#39;informatique du Semestre 6 de l&#39;ENSEIRB-MATEMCA, année 2019/2020" />
  <meta name="author" content="Delpeuch Sébastien" />
  
  <!-- Open Graph -->
  <meta property="og:title" content="Langage SQL | Informatique - ENSEIRB-Matmeca" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="http://localhost:4000/assets/images/t%C3%A9l%C3%A9chargement.svg" />
  <meta property="og:url" content="http://localhost:4000/assets/md/bdd/cours4.html" />
  <meta property="og:site_name" content="Informatique" />
  <meta property="og:description" content="Cours d&#39;informatique du Semestre 6 de l&#39;ENSEIRB-MATEMCA, année 2019/2020" />
  
  <!-- Styles -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!--[if lte IE 8]><script src="/assets/js/ie/html5shiv.js" defer></script><![endif]-->
  <link rel="stylesheet" href="/assets/css/main.css" />
  <!--[if lte IE 8]><link rel="stylesheet" href="/assets/css/ie8.css" /><![endif]-->
  <!--[if lte IE 9]><link rel="stylesheet" href="/assets/css/ie9.css" /><![endif]-->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css">

  <!-- Scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" defer></script>
  <script src="/assets/js/jquery.scrolly.min.js" defer></script>
  <script src="/assets/js/jquery.scrollzer.min.js" defer></script>
  <script src="/assets/js/skel.min.js" defer></script>
  <script src="/assets/js/util.js" defer></script>
  <!--[if lte IE 8]><script src="/assets/js/ie/respond.min.js" defer></script><![endif]-->
  <script src="/assets/js/main.js" defer></script>

</head><body><!-- Header -->
<div id="header">
  <div class="top"><!-- Logo -->
<div id="logo">
  <a href="http://localhost:4000/" id="home-link">
    <span class="image avatar48"><img src="/assets/images/t%C3%A9l%C3%A9chargement.svg" alt="Avatar of Delpeuch Sébastien" /></span>
    <h1 id="title">Informatique</h1>
    <p>ENSEIRB-Matmeca</p>
  </a>
</div><!-- Nav -->
<nav id="nav">
  <ul><li><a href="http://localhost:4000/" id="semestre-7-en-cours-link">
            <span class="icon fa-link">Semestre 7 - En cours</span>
          </a></li><li><a href="http://localhost:4000/Semestre_6.html" id="semestre-6-link">
            <span class="icon fa-check">Semestre 6</span>
          </a></li><li><a href="http://localhost:4000/Semestre_5.html" id="semestre-5-link">
            <span class="icon fa-check">Semestre 5</span>
          </a></li><li><a href="http://localhost:4000/CPBx.html" id="cpbx-link">
            <span class="icon fa-check">CPBx</span>
          </a></li></ul>
</nav></div>
  <div class="bottom"><!-- Social Icons -->
<ul class="icons"><li><a href="https://github.com/Sdelpeuch" class="icon-b fa-github"><span class="label">GitHub</span></a></li><li><a href="mailto:sebastien.delpeuch@enseirb-matmeca.fr" class="icon fa-envelope"><span class="label">Email</span></a></li></ul>
</div>
</div>
<!-- Main -->
<div id="main">
	<!-- Page -->
	<article class="shade-two">
	  <div class="container">
			<header>
				<h2>Langage SQL</h2></header><script type="text/javascript" async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<p>Notes inspirées du
<a href="https://moodle.bordeaux-inp.fr/pluginfile.php/96806/mod_resource/content/4/cours_conception-20.pdf">cours</a>
de M.Mosbah et S.Lombardy</p>

<style>
html {
 zoom: 0.80;
}
</style>

<h2 id="intrduction">Intrduction</h2>

<h3 id="présentation-générale">Présentation générale</h3>

<h4 id="introduction">Introduction.</h4>

<p>Le langage SQL (Structured Query Language) peut être considér comme le langage
d’accès normalisé aux bases de données. Il est aujourd’hui supporté par la
plupart des produits commerciaux que ce soit par les systèmes de gestions de
base de données micro tel que Access ou par les produits plus professionnels
tels que Oracle. Il a fait l’objet de plusieurs normes ANSI/ISO dont la plus
répandue aujourd’hui est la norme SQL2 qui a été définie en 1992.</p>

<p>Le succès du langage SQL est dû essentiellement à sa simplicité et au fait qu’il
s’appuie sur le schéma conceptuel pour énoncer des requêtes en laissant le SGBD
responsable de la stratégie d’exécution. Le langage SQL propose un langage de
requêtes ensembliste et assertionnel. Néanmoins, le langage SQL ne possède pas
la puissance d’une langage de programmation : entrées / sorties, instructions
conditionnelles, boucles et affectations. Pour certains traitements il est donc
nécessaire de coupler le langage SQL avec un langage de programmation plus
complet.</p>

<p>De manière synthétique, on peut dire que SQL est un langage relationnel, il
manipule donc des tables (ie des relations, c’est à dire des ensembles) par
l’intermédiaire de requêtes qui produisent également des tables.</p>

<h3 id="catégories-dinstructions">Catégories d’instructions</h3>

<p>Les instructions SQL sont regroupées en catégories en fonction de leur utilité
et des entités manipulées. Nous pouvons distinguer cinq catégories, qui
permettent :</p>
<ol>
  <li>la définition des éléments d’une base de données (tables, colonnes, clés,
index, contraintes …)</li>
  <li>la manipulation des données (insertion, suppression, modification,
extraction)</li>
  <li>la gestion des droits d’accès aux données (acquisition et révocation des
droits)</li>
  <li>la gestion des transactions</li>
  <li>et enfin le SQL intégré</li>
</ol>

<h4 id="langage-de-définition-de-données">Langage de définition de données</h4>

<p>Le <strong>langage de définition de données</strong> (LDD, oou Data Definition Language, soit
DDL en anglais) est un langage orienté au niveau de la structure de la base de
données. Le LDD permet de créer, modifier, supprimer des objets. Il permet
également de définir le domaine des données (nombre, chaîne de caractères, date,
booléen …) et d’ajouter des contraintes de valeur sur les données. Il permet
enfin d’autoriser ou d’interdire l’accès aux données et d’activer ou de
désactiver l’audit pour un utilisateur donné. Les instruction du LDD sont :
CREATE ALTER DROP AUDIT NOAUDIT ANALYSE RENAME TRUNCATE</p>

<h4 id="langage-de-manipulation-de-données">Langage de manipulation de données</h4>

<p>Le <strong>langage de manipulation de données</strong> (LMD, ou Data Manipulation Language,
soit DML en anglais) est l’ensemble des commandes concernant la manipulation des
données dans une base de données. Le LMD permet l’ajout, la suppression et l
modification de ligne, la visualistion du contenu des tables et leur
verouillage. Les instruction du LMD sont : INSERT UPDATE DELETE SELECT EXPLAIN
PLAN LOCK TABLE. Ces éléments doivent être validés par une transaction pour
qu’ils soient pris en compte.</p>

<h4 id="langage-de-protections-daccès">Langage de protections d’accès</h4>
<p>Le <strong>langage de protections d’accès</strong> (ou Data Control Language, soit DCL en
anglais) s’occupe de gérer les droits d’accès aux tables. Les instruction du DCL
sont : GRANT, REVOKE.</p>

<h4 id="langage-de-contrôle-de-transaction">Langage de contrôle de transaction</h4>

<p>Le langage de contrôle de transaction gère les modifications faites par le LMD,
c’est à dire les caractéristiques des transactions et la validation et
l’annulation des modifications. LEs instruction du TCL sont : COMMIT SAVEPOINT
ROLLBACK SET TRANSACTION</p>

<h4 id="sql-intégré">SQL intégré</h4>

<p>Le SQL intégré permet d’utiliser SQL dans un langage de troisième génération
(C,java,cobol, etc ):</p>
<ul>
  <li>déclaration d’objets ou d’instructions</li>
  <li>exécution d’instructions</li>
  <li>gestion des variables et des curseurs</li>
  <li>traitement des erreurs</li>
</ul>

<p>Les instructions du SQL intégré sont : DECLARE TYPE DESCRIBE VAR CONNECT PREPARE
EXECUTE OPEN FETCH CLOSE WHENEVER</p>

<h4 id="postgresql">PostgreSQL</h4>

<p>Les systèmes traditionnels de gestion de bases de données relationnelles (SGBDR)
offrent un modèle de données composé d’une collection de relations contenant des
attributs relevant chacun d’un type spécifique. Le systèmes commerciaux gèrent
par exemple les nombres décimaux, les entiers, les chaines de caractères, les
monnaies et les dates. Il est communément admis que ce modèle est inadéquat pour
les applications de traitement de données de l’avenir, car, si le modèle
relationnel a remplacé avec succès les modèles précédents en partie grâce à sa
“simplicité spartiate”, cette dernière complique cependant l’implémentation de
certaines applications. PostgreSQL apporte une puissance additionnelle
substantielle en incorporant les quatre concepts de base suivants afin que les
utilisateurs puissent facilement étendre le système : classe, héritage, types
,fonctions. D’autres fonctionnalités accroissent la puissance et la souplesse :
contraintes, déclencheurs, règles, intégrité des transactions.</p>

<p>Ces fonctionnalités placent PostgreSQL dans la catégorie des bases de données
relationnel-objet. Ne confondez pas cette catégorie avec celle des serveur
d’objets qui ne tolère pas aussi bien les langages traditionnels d’accès aux
SGBDR. Ainsi, bien que PostgreSQL possède certaines fonctionnalités orientées
objet, il appartient avant tout au monde des SGBDR. C’est essentiellement
l’aspect SGBDR de PostgreSQL que nous aborderons dans ce cours.</p>

<p>L’une des principales qualités de PostgreSQL est d’être un logiciel libre, c’est
à dire gratuit dont les sources sont disponibles. Il est possible de l’installer
sur les systèmes Unix/Linux et Win32.</p>

<p>PostgreSQL fonctionne selon une architecture client/serveur, il est ainsi
constitué :</p>
<ul>
  <li>d’une partie serveur, c’est à dire une application fonctionnant sur la machine
hébergeant la base de données (le serveur de bases de données) capable de
traiter les requêtes des clients, il s’agit dans le cas de PostgreSQL d’une
programme en mémoire appelé postmaster</li>
  <li>
    <p>d’une partie client (psql) devant être installée sur toutes les machines
nécessitant d’accéder au serveur de base de données (un client peut
éventuellement fonctionner sur le serveur lui-même).</p>

    <p>Les clients (les machines sur lesquelles le client PostgreSQL est installé)
peuvent interroger le serveur de bases de données à l’aide de requêtes SQL.</p>
  </li>
</ul>

<h2 id="définir-une-base--langage-de-définition-de-données-ldd">Définir une base ? Langage de définition de données (LDD)</h2>

<h3 id="soit-le-schéma-relationnel-minimaliste-suivant-">Soit le schéma relationnel minimaliste suivant :</h3>
<ul>
  <li>Acteur(Num-Act, Nom, Prénom)</li>
  <li>Jouer(Num-Act,Num-Film)</li>
  <li>Film(Num-Film, Titre, Année)</li>
</ul>

<h4 id="contrainte-dintégrité-de-domaine">Contrainte d’intégrité de domaine</h4>

<p>Toute comparaison d’attributs n’est acceptée que si ces attributs sont définis
sur le même domaine. Le SGBD doit donc constamment s’assurer de la validité des
valeurs d’un attribut. C’est pourquoi la commande de création de tables doit
préciser, en plus du nom, le type de chaque colonne. Par exemple, pour la table
Film, on précisera que le Titre est une chaîne de caractères et l’Année une
date. Lors de l’insertion de <script type="math/tex">n</script>-uplets dans cette table, le système
s’assurera que les différents champs du <script type="math/tex">n</script>-uplet satisferont les contraintes
d’intégrité de domaine des attributs précisés lors de la création de labse. Si
les contraintes ne sont pas satisfaites, le <script type="math/tex">n</script>-uplet n’est tout simplement
pas inséré dans la table.</p>

<h4 id="contrainte-dintégrité-de-référence">Contrainte d’intégrité de référence</h4>

<p>Dans tout schéma relationnel, il existe deux types de relation :</p>
<ul>
  <li>les relations qui représentent des entités de l’univers modélisé, elles sont
qualifiées de statiques, ou d’indépendantes, les relations Acteur et Film en
sont des exemples</li>
  <li>les relations dont l’existence des <script type="math/tex">n</script>-uplets dépend des valeurs d’attributs
situées dans d’autres relations, il s’agit de relations dynamiques ou
dépendantes, la relation Jouer en est un exemple.</li>
</ul>

<p>Lors de l’insertion d’un <script type="math/tex">n</script>-uplet dans la relation Jouer, le SGBD doit
vérifier que les valeurs Num-Act et Num-Film correspondent bien, respectivement,
à une valeur de Num-Act existant dans la relation Acteur et une valeur Num-Film
existant dans la relation Film.</p>

<p>Lors de la suppression d’un <script type="math/tex">n</script>-uplet</p>
</div>
	</article>
</div><!-- Footer -->
<div id="footer">
  
  <!-- Copyright -->
  <ul class="copyright">
    
      <li>&copy;Informatique. All rights reserved.</li>
    
    <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
    <li>Jekyll integration: <a href="https://chrisbobbe.github.io/">Chris Bobbe</a></li>
  </ul>
  
</div></body>
</html>